---
title: 解释器、编译器和混合编译的简析
date: 2021-10-26 12:05:39
tags:
---

## 名词解释

- 源代码：Source Code，
- 机器码：Machine Code，
- 字节码：ByteCode
- 解释器：Interpreter
- 编译器：Compiler
- 运行时：Runtime
- 虚拟机：Virtual Machine

- Source code：源代码
- Object code：目标代码
- Bytecode：字节码
- Machine code：机器码，二进制格式
- Microcode，宏代码

## 传统意义的编程模式 

### 解释型语言 - Interpreted language

解释器是一种计算机程序，能够把解释型语言解释执行。解释器就像一位“中间人”。解释器边解释边执行，因此依赖于解释器的程序运行速度比较缓慢。

解释器的好处是它不需要重新编译整个程序，从而减轻了每次程序更新后编译的负担。
相对的编译器一次性将所有源代码编译成二进制文件，执行时无需依赖编译器或其他额外的程序。

以Basic，Shell为例

### 编译型语言- Compiled language

编译器是一种计算机程序，它会将某种编程语言写成的源代码（原始语言）转换成另一种编程语言（目标语言）。

它主要的目的是将便于人编写、阅读、维护的高级计算机语言所写作的源代码程序，翻译为计算机能解读、运行的低阶机器语言的程序，也就是可执行文件。编译器将原始程序（source program）作为输入，翻译产生使用目标语言（target language）的等价程序。源代码一般为高级语言（High-level language），如Pascal、C、C++、C# 、Java等，而目标语言则是汇编语言或目标机器的目标代码（Object code），有时也称作`机器码（Machine code）`。

一个现代编译器的主要工作流程如下：

`源代码（source code）`→ 预处理器（preprocessor）→ 编译器（compiler）→ 汇编程序（assembler）→ 目标代码（object code）→ 链接器（linker）→ 可执行文件（executables），最后打包好的文件就可以给电脑去判读运行了。

以C语言为例

### 对比分析

编译器和解释器的区别在于是否编译和执行过程是否是同时进行。

编译器所干的事，将一门语言 X 编译为另一门语言 Y （可以是语言 X、高级语言、低级语言等），整个编译过程涉及词法分析、语法分析、语义分析。该过程往往由程序员在编写程序时完成。

而解释器则直接将语言 X 编写的程序在目标机器上运行。CPU就可以被当作某种指令集合的解释器。事实上，CPU的指令集合可能比我们看到的更复杂，其内部由更多的私有指令集合组成，转化为可见的公有指令集合。

特点：
解释器：
优点：跨平台、启动速度快、开发效率高
缺点：执行速度慢，执行效率低
编译器：
优点：执行速度快、执行效率高
缺点：平台相关性高，编译速度（启动速度）慢，开发效率低
可以看出，二者的特点起到了一个很好的互补关系，所以没有谁好谁坏的说法，同时Java很好的融合了这两者的优点。

区别：
编译器输出一个翻译完成后的可执行文件，是一个二进制数据流；解释器输出解释后运行的结果；

|项目|编译器 - Compiler|解释器 - Interpreter|
|:-:|:-:|:-:|
|优化目标 | 更快的运行速度 | 更少的内存占用 |
|外部存储 | 必须的 | 可选的 | 
|错误检查 | 运行前的编译阶段 | 运行过程中| 
|源代码|直接运行二进制机器码 | 运行环节必须依赖源代码|
|运行环境|操作系统提供的Runtime Library | 必须依赖于解释器|
|跨平台支持|维护不同版本的源代码，并需要编译环节|通过解释器（或虚拟机）适配不同平台，源代码无需修改|
|运行效率|安装（编译）速度慢，运行速度快|启动速度快，运行速度慢|

## 现代意义的编程模式

## 混合编译

### Java

### Python

### JavaScript

### AOT

### JIT